<p-dialog
  [visible]="visible()"
  [header]="dialogTitle()"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  styleClass="act-dialog"
  (onHide)="handleCancel()"
>
  <div class="dialog-content">
    <div class="form-group">
      <label for="actTitle" class="form-label">
        Título do Ato <span class="required">*</span>
      </label>
      <aso-input
        id="actTitle"
        [(ngModel)]="actTitle"
        placeholder="Ex: ATO I: O CHAMADO PARA A AVENTURA"
        [isInvalid]="showValidation() && !isValid()"
      />
      <div class="char-counter" [class.warning]="getRemainingChars() < 20">
        {{ getRemainingChars() }} caracteres restantes
      </div>
      <small class="error-message" *ngIf="showValidation() && !isValid()">
        <ng-container *ngIf="actTitle().trim().length === 0">
          O título é obrigatório
        </ng-container>
        <ng-container *ngIf="actTitle().trim().length > 0">
          O título não pode ter mais de {{ maxTitleLength }} caracteres
        </ng-container>
      </small>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="dialog-footer">
      <aso-button
        label="Cancelar"
        variant="outlined"
        (eventClick)="handleCancel()"
      />
      <aso-button
        label="Salvar"
        [severity]="'primary'"
        (eventClick)="handleSave()"
        [disabled]="!isValid()"
      />
    </div>
  </ng-template>
</p-dialog>
