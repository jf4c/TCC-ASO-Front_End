<p-dialog
  [visible]="visible()"
  [header]="dialogTitle()"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  styleClass="master-note-dialog"
  (onHide)="handleCancel()"
>
  <div class="dialog-content">
    <div class="form-group">
      <label for="noteContent" class="form-label">
        Conteúdo da Nota <span class="required">*</span>
      </label>
      <aso-textarea
        id="noteContent"
        [(ngModel)]="noteContent"
        placeholder="Anote suas ideias, planos futuros, NPCs importantes, plot twists planejados..."
        rows="10"
      />
      @if (showValidation() && !isValid()) {
        <small class="error-message">
          O conteúdo é obrigatório
        </small>
      }
      <div class="field-hint">
        <i class="pi pi-info-circle"></i>
        Estas notas são privadas e visíveis apenas para você (o mestre)
      </div>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="dialog-footer">
      <aso-button
        label="Cancelar"
        variant="outlined"
        (click)="handleCancel()"
      />
      <aso-button
        label="Salvar"
        [severity]="'primary'"
        (click)="handleSave()"
        [disabled]="!isValid()"
      />
    </div>
  </ng-template>
</p-dialog>
